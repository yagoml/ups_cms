var extend=function(a,b){function c(){this.constructor=a}for(var d in b)hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},hasProp={}.hasOwnProperty;define(["jquery","underscore","backbone"],function(a,b,c){return new(function(c){function d(){return d.__super__.constructor.apply(this,arguments)}return extend(d,c),d.prototype.routes={"admin(/)":"admin","admin/autoCrud/:table(/)":"autoCrud","admin/autoCrud/:table/new(/)":"autoCrudNew","admin/autoCrud/:table/edit/:id(/)":"autoCrudEdit","admin/autoCrud/:table/related/:related_table/:fk/:filterID(/)":"autoCrudRelated","admin/autoCrud/:table/related/:related_table/:fk/:filterID/new(/)":"autoCrudRelatedNew"},d.prototype.instances={autoCrudView:{}},d.prototype.autoCrudTable="",d.prototype.admin=function(b){var c;return c=a.Deferred(),require([ENV+"/js/views/admin/admin"],function(d){return a("#mainContent").html(new d(b).render().$el),c.resolve()}),c.promise()},d.prototype.autoCrud=function(c){return"string"==typeof c&&(c={table:c}),c.filterID=c.filterID||0,c.renderTable=c.renderTable||!0,c.edit=c.edit||!1,c.newData=c.newData||!1,c.parentTable=c.parentTable||!1,"config_site"===c.table&&(c.edit||(window.location.hash="#admin")),require([ENV+"/js/components/autoCrud/autoCrudView"],function(d){return function(e){return a("#panelContent").length?(b.isEmpty(d.instances.autoCrudView)||c.table!==d.autoCrudTable||c.edit||c.newData?a("#panelContent").html((d.instances.autoCrudView=new e(c)).render().$el):d.instances.autoCrudView.renderTable(),d.autoCrudTable=c.table):a.when(d.admin(c.table)).done(function(){return b.isEmpty(d.instances.autoCrudView)||c.table!==d.autoCrudTable||c.edit||c.newData?a("#panelContent").html((d.instances.autoCrudView=new e(c)).render().$el):d.instances.autoCrudView.renderTable(),d.autoCrudTable=c.table})}}(this))},d.prototype.autoCrudRelated=function(a,b,c,d){return this.autoCrud({table:b,fk:c,filterID:d,parentTable:a})},d.prototype.autoCrudRelatedNew=function(a,b,c,d){return this.autoCrud({table:b,fk:c,filterID:d,parentTable:a})},d.prototype.autoCrudEdit=function(a,b){return this.autoCrud({table:a,filterID:b,edit:!0})},d.prototype.autoCrudNew=function(a){return this.autoCrud({table:a,newData:!0})},d}(c.Router))});